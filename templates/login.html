{% extends "base.html" %}

{% block title %}Platform Yönetimi - AI BEE CC{% endblock %}

{% block auth_content %}
<div class="auth-card">
    <div class="auth-header">
        <div class="auth-logo">
            <i class="ti ti-crown"></i>
        </div>
        <span class="super-admin-badge">
            <i class="ti ti-shield-lock"></i> Platform Yönetimi
        </span>
        <h1 class="auth-title">AI BEE CC</h1>
        <p class="auth-subtitle">Super Admin Portal</p>
    </div>
    
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="auth-message {% if category == 'success' %}success{% else %}danger{% endif %}">
        <i class="ti ti-{% if category == 'success' %}check{% else %}alert-circle{% endif %}"></i>
        {{ message }}
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
    
    <form method="POST" action="{{ url_for('login') }}" class="auth-form">
        <div class="form-group">
            <label class="form-label">
                <i class="ti ti-user"></i>
                Kullanıcı Adı
            </label>
            <div class="input-group">
                <span class="input-group-icon">
                    <i class="ti ti-user"></i>
                </span>
                <input type="text" name="username" class="form-control" placeholder="Kullanıcı adınızı girin" required autofocus>
            </div>
        </div>
        
        <div class="form-group">
            <label class="form-label">
                <i class="ti ti-lock"></i>
                Şifre
            </label>
            <div class="input-group">
                <span class="input-group-icon">
                    <i class="ti ti-lock"></i>
                </span>
                <input type="password" name="password" id="passwordInput" class="form-control" placeholder="Şifrenizi girin" required>
                <button type="button" class="input-group-action" onclick="togglePassword()">
                    <i class="ti ti-eye" id="passwordToggleIcon"></i>
                </button>
            </div>
        </div>
        
        <button type="submit" class="btn btn-primary btn-lg" style="width: 100%; margin-top: 0.5rem;">
            <i class="ti ti-login"></i>
            Giriş Yap
        </button>
    </form>
    
    <div class="auth-divider">
        <span>Diğer Giriş Sayfaları</span>
    </div>
    
    <div class="auth-links">
        <a href="{{ url_for('admin_login') }}" class="auth-link admin-link">
            <i class="ti ti-building"></i> CC Admin Girişi
        </a>
        <a href="{{ url_for('agent_login') }}" class="auth-link agent-link">
            <i class="ti ti-headset"></i> Agent Girişi
        </a>
    </div>
    
    <div class="auth-footer">
        <p>
            AI BEE CC <span class="version">v2.0</span>
        </p>
    </div>
</div>

<style>
.super-admin-badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    background: rgba(245, 166, 35, 0.15);
    color: var(--primary);
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}
.auth-divider {
    display: flex;
    align-items: center;
    margin: 1.5rem 0;
    color: var(--text-muted);
    font-size: 0.8rem;
}
.auth-divider::before,
.auth-divider::after {
    content: '';
    flex: 1;
    height: 1px;
    background: var(--border-color);
}
.auth-divider span {
    padding: 0 1rem;
}
.auth-links {
    display: flex;
    gap: 1rem;
}
.auth-link {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.75rem;
    border-radius: 8px;
    font-size: 0.85rem;
    font-weight: 500;
    text-decoration: none;
    transition: all 0.2s;
}
.auth-link.admin-link {
    background: rgba(52, 152, 219, 0.1);
    color: #3498db;
    border: 1px solid rgba(52, 152, 219, 0.2);
}
.auth-link.admin-link:hover {
    background: rgba(52, 152, 219, 0.2);
}
.auth-link.agent-link {
    background: rgba(39, 174, 96, 0.1);
    color: #27ae60;
    border: 1px solid rgba(39, 174, 96, 0.2);
}
.auth-link.agent-link:hover {
    background: rgba(39, 174, 96, 0.2);
}
</style>

<script>
function togglePassword() {
    const input = document.getElementById('passwordInput');
    const icon = document.getElementById('passwordToggleIcon');
    
    if (input.type === 'password') {
        input.type = 'text';
        icon.classList.remove('ti-eye');
        icon.classList.add('ti-eye-off');
    } else {
        input.type = 'password';
        icon.classList.remove('ti-eye-off');
        icon.classList.add('ti-eye');
    }
}
</script>
{% endblock %}
