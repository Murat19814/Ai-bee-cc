{% extends "base.html" %}

{% block title %}Giriş - AI BEE CC{% endblock %}

{% block auth_content %}
<div class="auth-card">
    <div class="auth-header">
        <div class="auth-logo">
            <i class="ti ti-headset"></i>
        </div>
        <h1 class="auth-title">AI BEE CC</h1>
        <p class="auth-subtitle">Call Center</p>
    </div>
    
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="auth-message {% if category == 'success' %}success{% else %}danger{% endif %}">
        <i class="ti ti-{% if category == 'success' %}check{% else %}alert-circle{% endif %}"></i>
        {{ message }}
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
    
    <form method="POST" action="{{ url_for('login') }}" class="auth-form">
        <div class="form-group">
            <label class="form-label">
                <i class="ti ti-user"></i>
                Kullanıcı Adı
            </label>
            <div class="input-group">
                <span class="input-group-icon">
                    <i class="ti ti-user"></i>
                </span>
                <input type="text" name="username" class="form-control" placeholder="Kullanıcı adınızı girin" required autofocus>
            </div>
        </div>
        
        <div class="form-group">
            <label class="form-label">
                <i class="ti ti-lock"></i>
                Şifre
            </label>
            <div class="input-group">
                <span class="input-group-icon">
                    <i class="ti ti-lock"></i>
                </span>
                <input type="password" name="password" id="passwordInput" class="form-control" placeholder="Şifrenizi girin" required>
                <button type="button" class="input-group-action" onclick="togglePassword()">
                    <i class="ti ti-eye" id="passwordToggleIcon"></i>
                </button>
            </div>
        </div>
        
        <button type="submit" class="btn btn-primary btn-lg" style="width: 100%; margin-top: 0.5rem;">
            <i class="ti ti-login"></i>
            Giriş Yap
        </button>
    </form>
    
    <div class="auth-footer">
        <p>
            AI BEE CC <span class="version">v2.0</span>
        </p>
    </div>
</div>

<script>
function togglePassword() {
    const input = document.getElementById('passwordInput');
    const icon = document.getElementById('passwordToggleIcon');
    
    if (input.type === 'password') {
        input.type = 'text';
        icon.classList.remove('ti-eye');
        icon.classList.add('ti-eye-off');
    } else {
        input.type = 'password';
        icon.classList.remove('ti-eye-off');
        icon.classList.add('ti-eye');
    }
}
</script>
{% endblock %}
