{% extends "base.html" %}

{% block title %}Queue / ACD - AI BEE CC{% endblock %}

{% block extra_css %}
<style>
.voip-page { padding: 1.5rem; }

/* CC Sales Panel */
.cc-panels-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
    gap: 1.5rem;
    margin-top: 1.5rem;
}

.cc-panel {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.06);
    overflow: hidden;
}

.cc-panel-header {
    padding: 1rem 1.25rem;
    background: linear-gradient(135deg, #9C27B0 0%, #7B1FA2 100%);
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.cc-panel-header.blue { background: linear-gradient(135deg, #2196F3, #1976D2); }
.cc-panel-header.orange { background: linear-gradient(135deg, #F5A623, #D4920A); }
.cc-panel-header.green { background: linear-gradient(135deg, #4CAF50, #388E3C); }
.cc-panel-header.red { background: linear-gradient(135deg, #f44336, #D32F2F); }

.cc-panel-title {
    font-size: 1.1rem;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.cc-panel-title i { color: #FFD700; }

.cc-panel-badge {
    background: rgba(255,255,255,0.2);
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.75rem;
}

.cc-panel-body { padding: 1.25rem; }

/* Sales Stats Grid */
.sales-stats-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.sales-stat {
    text-align: center;
    padding: 1rem 0.5rem;
    background: #f8f9fa;
    border-radius: 12px;
    transition: all 0.3s;
}

.sales-stat:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.sales-stat-value {
    font-size: 1.75rem;
    font-weight: 800;
    font-family: var(--font-display);
}

.sales-stat-value.sale { color: #FF9800; }
.sales-stat-value.qc-ok { color: #4CAF50; }
.sales-stat-value.termin { color: #2196F3; }
.sales-stat-value.storno { color: #f44336; }

.sales-stat-label {
    font-size: 0.7rem;
    color: #666;
    text-transform: uppercase;
    margin-top: 0.25rem;
}

/* Agent Sales List */
.agent-sales-list {
    margin-top: 1rem;
    border-top: 1px solid #eee;
    padding-top: 1rem;
}

.agent-sales-title {
    font-size: 0.8rem;
    font-weight: 700;
    color: #333;
    margin-bottom: 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.agent-sales-title i { color: #9C27B0; }

.agent-sales-row {
    display: flex;
    align-items: center;
    padding: 0.5rem 0;
    border-bottom: 1px solid #f0f0f0;
}

.agent-sales-row:last-child { border-bottom: none; }

.agent-avatar-sm {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: linear-gradient(135deg, #667eea, #764ba2);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 0.7rem;
    font-weight: 600;
    margin-right: 0.75rem;
}

.agent-info { flex: 1; }
.agent-name { font-weight: 600; font-size: 0.85rem; }
.agent-team { font-size: 0.7rem; color: #888; }

.agent-stats {
    display: flex;
    gap: 0.5rem;
}

.agent-stat-badge {
    padding: 0.25rem 0.5rem;
    border-radius: 6px;
    font-size: 0.7rem;
    font-weight: 700;
}

.agent-stat-badge.sale { background: #FFF3E0; color: #E65100; }
.agent-stat-badge.ok { background: #E8F5E9; color: #2E7D32; }
.agent-stat-badge.termin { background: #E3F2FD; color: #1565C0; }

/* QC Listening Panel */
.qc-panel {
    background: white;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.06);
    overflow: hidden;
    margin-top: 1.5rem;
}

.qc-panel-header {
    padding: 1rem 1.25rem;
    background: linear-gradient(135deg, #4CAF50, #388E3C);
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.qc-stats-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.qc-stat {
    text-align: center;
    padding: 1rem;
    background: linear-gradient(145deg, #f8f9fa, #fff);
    border-radius: 12px;
    border: 1px solid #eee;
}

.qc-stat-value {
    font-size: 1.5rem;
    font-weight: 800;
}

.qc-stat-value.total { color: #9C27B0; }
.qc-stat-value.listened { color: #4CAF50; }
.qc-stat-value.pending { color: #FF9800; }
.qc-stat-value.approved { color: #2196F3; }
.qc-stat-value.rejected { color: #f44336; }

/* QC Reviewer List */
.qc-reviewer-list { margin-top: 1rem; }

.qc-reviewer-row {
    display: flex;
    align-items: center;
    padding: 0.75rem;
    background: #f8f9fa;
    border-radius: 10px;
    margin-bottom: 0.5rem;
}

.qc-reviewer-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: linear-gradient(135deg, #4CAF50, #8BC34A);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    margin-right: 1rem;
}

.qc-reviewer-info { flex: 1; }
.qc-reviewer-name { font-weight: 700; }
.qc-reviewer-role { font-size: 0.75rem; color: #888; }

.qc-reviewer-stats {
    display: flex;
    gap: 1rem;
    text-align: center;
}

.qc-reviewer-stat {
    padding: 0.5rem;
}

.qc-reviewer-stat-value {
    font-size: 1.1rem;
    font-weight: 700;
    color: #4CAF50;
}

.qc-reviewer-stat-label {
    font-size: 0.65rem;
    color: #888;
}

/* Add CC Button */
.add-cc-btn {
    border: 2px dashed #ccc;
    background: transparent;
    border-radius: 16px;
    padding: 3rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s;
    color: #888;
}

.add-cc-btn:hover {
    border-color: #9C27B0;
    color: #9C27B0;
    background: rgba(156, 39, 176, 0.05);
}

.add-cc-btn i { font-size: 2rem; margin-bottom: 0.5rem; }
</style>
{% endblock %}

{% block content %}
<div class="voip-page">
    <div class="page-header">
        <div>
            <h1 class="page-title">
                <i class="ti ti-chart-bar" style="color: #9C27B0;"></i>
                <span data-tr="CC Satış & QC Yönetimi" data-de="CC Verkaufs- & QC-Management">CC Satış & QC Yönetimi</span>
            </h1>
            <p class="page-subtitle" data-tr="Call Center bazlı satış ve kalite kontrol istatistikleri" data-de="Call Center-basierte Verkaufs- und Qualitätskontrollstatistiken">Call Center bazlı satış ve kalite kontrol istatistikleri</p>
        </div>
        <div class="page-header-actions">
            <button class="btn btn-primary" onclick="addNewCC()">
                <i class="ti ti-plus"></i> <span data-tr="Yeni CC Ekle" data-de="Neues CC hinzufügen">Yeni CC Ekle</span>
            </button>
        </div>
    </div>

    <!-- Summary Stats -->
    <div class="grid grid-cols-4 gap-4 mt-4">
        <div class="stat-card" style="background: linear-gradient(145deg, #FFF3E0, #FFE0B2); border-left: 4px solid #FF9800;">
            <div class="stat-card-inner">
                <div class="icon-3d orange"><i class="ti ti-shopping-cart"></i></div>
                <div class="stat-content">
                    <div class="stat-value" id="totalSales">156</div>
                    <div class="stat-label" data-tr="Toplam Satış" data-de="Gesamtverkauf">Toplam Satış</div>
                </div>
            </div>
        </div>
        <div class="stat-card" style="background: linear-gradient(145deg, #E8F5E9, #C8E6C9); border-left: 4px solid #4CAF50;">
            <div class="stat-card-inner">
                <div class="icon-3d green"><i class="ti ti-check"></i></div>
                <div class="stat-content">
                    <div class="stat-value" id="totalQCOK">98</div>
                    <div class="stat-label">QC OK</div>
                </div>
            </div>
        </div>
        <div class="stat-card" style="background: linear-gradient(145deg, #E3F2FD, #BBDEFB); border-left: 4px solid #2196F3;">
            <div class="stat-card-inner">
                <div class="icon-3d blue"><i class="ti ti-calendar"></i></div>
                <div class="stat-content">
                    <div class="stat-value" id="totalTermin">45</div>
                    <div class="stat-label">Termin</div>
                </div>
            </div>
        </div>
        <div class="stat-card" style="background: linear-gradient(145deg, #FFEBEE, #FFCDD2); border-left: 4px solid #f44336;">
            <div class="stat-card-inner">
                <div class="icon-3d red"><i class="ti ti-x"></i></div>
                <div class="stat-content">
                    <div class="stat-value" id="totalStorno">13</div>
                    <div class="stat-label">Storno</div>
                </div>
            </div>
        </div>
    </div>

    <!-- CC Sales Panels -->
    <h3 class="mt-5 mb-3" style="display: flex; align-items: center; gap: 0.5rem;">
        <i class="ti ti-building" style="color: #9C27B0;"></i>
        <span data-tr="CC Bazlı Agent Satışları" data-de="CC-basierte Agent-Verkäufe">CC Bazlı Agent Satışları</span>
    </h3>

    <div class="cc-panels-grid" id="ccPanelsGrid">
        <!-- CC 1 - Satis Ekibi -->
        <div class="cc-panel" data-cc-id="1">
            <div class="cc-panel-header">
                <div class="cc-panel-title">
                    <i class="ti ti-building"></i>
                    <span>Satış Ekibi CC</span>
                </div>
                <span class="cc-panel-badge" data-tr="Aktif" data-de="Aktiv">Aktif</span>
            </div>
            <div class="cc-panel-body">
                <div class="sales-stats-grid">
                    <div class="sales-stat">
                        <div class="sales-stat-value sale">28</div>
                        <div class="sales-stat-label">Sale</div>
                    </div>
                    <div class="sales-stat">
                        <div class="sales-stat-value qc-ok">18</div>
                        <div class="sales-stat-label">QC OK</div>
                    </div>
                    <div class="sales-stat">
                        <div class="sales-stat-value termin">12</div>
                        <div class="sales-stat-label">Termin</div>
                    </div>
                    <div class="sales-stat">
                        <div class="sales-stat-value storno">3</div>
                        <div class="sales-stat-label">Storno</div>
                    </div>
                </div>

                <div class="agent-sales-list">
                    <div class="agent-sales-title">
                        <i class="ti ti-users"></i>
                        <span data-tr="Agent Performansı" data-de="Agent-Leistung">Agent Performansı</span>
                    </div>
                    <div class="agent-sales-row">
                        <div class="agent-avatar-sm">AK</div>
                        <div class="agent-info">
                            <div class="agent-name">Ahmet K.</div>
                            <div class="agent-team" data-tr="Satış Temsilcisi" data-de="Vertriebsmitarbeiter">Satış Temsilcisi</div>
                        </div>
                        <div class="agent-stats">
                            <span class="agent-stat-badge sale">8 Sale</span>
                            <span class="agent-stat-badge ok">6 OK</span>
                            <span class="agent-stat-badge termin">4 T</span>
                        </div>
                    </div>
                    <div class="agent-sales-row">
                        <div class="agent-avatar-sm">BY</div>
                        <div class="agent-info">
                            <div class="agent-name">Buse Y.</div>
                            <div class="agent-team" data-tr="Satış Temsilcisi" data-de="Vertriebsmitarbeiter">Satış Temsilcisi</div>
                        </div>
                        <div class="agent-stats">
                            <span class="agent-stat-badge sale">12 Sale</span>
                            <span class="agent-stat-badge ok">8 OK</span>
                            <span class="agent-stat-badge termin">5 T</span>
                        </div>
                    </div>
                    <div class="agent-sales-row">
                        <div class="agent-avatar-sm">CD</div>
                        <div class="agent-info">
                            <div class="agent-name">Can D.</div>
                            <div class="agent-team" data-tr="Satış Temsilcisi" data-de="Vertriebsmitarbeiter">Satış Temsilcisi</div>
                        </div>
                        <div class="agent-stats">
                            <span class="agent-stat-badge sale">8 Sale</span>
                            <span class="agent-stat-badge ok">4 OK</span>
                            <span class="agent-stat-badge termin">3 T</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CC 2 - Destek Ekibi -->
        <div class="cc-panel" data-cc-id="2">
            <div class="cc-panel-header blue">
                <div class="cc-panel-title">
                    <i class="ti ti-headset"></i>
                    <span>Destek Ekibi CC</span>
                </div>
                <span class="cc-panel-badge" data-tr="Aktif" data-de="Aktiv">Aktif</span>
            </div>
            <div class="cc-panel-body">
                <div class="sales-stats-grid">
                    <div class="sales-stat">
                        <div class="sales-stat-value sale">35</div>
                        <div class="sales-stat-label">Sale</div>
                    </div>
                    <div class="sales-stat">
                        <div class="sales-stat-value qc-ok">22</div>
                        <div class="sales-stat-label">QC OK</div>
                    </div>
                    <div class="sales-stat">
                        <div class="sales-stat-value termin">18</div>
                        <div class="sales-stat-label">Termin</div>
                    </div>
                    <div class="sales-stat">
                        <div class="sales-stat-value storno">5</div>
                        <div class="sales-stat-label">Storno</div>
                    </div>
                </div>

                <div class="agent-sales-list">
                    <div class="agent-sales-title">
                        <i class="ti ti-users"></i>
                        <span data-tr="Agent Performansı" data-de="Agent-Leistung">Agent Performansı</span>
                    </div>
                    <div class="agent-sales-row">
                        <div class="agent-avatar-sm">MN</div>
                        <div class="agent-info">
                            <div class="agent-name">Mehmet N.</div>
                            <div class="agent-team" data-tr="Destek Uzmanı" data-de="Support-Spezialist">Destek Uzmanı</div>
                        </div>
                        <div class="agent-stats">
                            <span class="agent-stat-badge sale">15 Sale</span>
                            <span class="agent-stat-badge ok">10 OK</span>
                            <span class="agent-stat-badge termin">8 T</span>
                        </div>
                    </div>
                    <div class="agent-sales-row">
                        <div class="agent-avatar-sm">OP</div>
                        <div class="agent-info">
                            <div class="agent-name">Özge P.</div>
                            <div class="agent-team" data-tr="Destek Uzmanı" data-de="Support-Spezialist">Destek Uzmanı</div>
                        </div>
                        <div class="agent-stats">
                            <span class="agent-stat-badge sale">20 Sale</span>
                            <span class="agent-stat-badge ok">12 OK</span>
                            <span class="agent-stat-badge termin">10 T</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add New CC Button -->
        <button class="add-cc-btn" onclick="addNewCC()">
            <i class="ti ti-plus"></i>
            <span data-tr="Yeni CC Ekle" data-de="Neues CC hinzufügen">Yeni CC Ekle</span>
        </button>
    </div>

    <!-- QC Listening Section -->
    <h3 class="mt-5 mb-3" style="display: flex; align-items: center; gap: 0.5rem;">
        <i class="ti ti-headphones" style="color: #4CAF50;"></i>
        <span data-tr="QC DİNLEME" data-de="QC ANHÖREN">QC DİNLEME</span>
    </h3>

    <div class="qc-panel">
        <div class="qc-panel-header">
            <div class="cc-panel-title">
                <i class="ti ti-headphones"></i>
                <span data-tr="Kalite Kontrol Dinleme İstatistikleri" data-de="Qualitätskontrolle Anhörungsstatistiken">Kalite Kontrol Dinleme İstatistikleri</span>
            </div>
            <span class="cc-panel-badge" data-tr="Bugün" data-de="Heute">Bugün</span>
        </div>
        <div class="cc-panel-body">
            <div class="qc-stats-grid">
                <div class="qc-stat">
                    <div class="qc-stat-value total">156</div>
                    <div class="sales-stat-label" data-tr="Toplam Kayıt" data-de="Gesamt Aufnahmen">Toplam Kayıt</div>
                </div>
                <div class="qc-stat">
                    <div class="qc-stat-value listened">98</div>
                    <div class="sales-stat-label" data-tr="Dinlenen" data-de="Angehört">Dinlenen</div>
                </div>
                <div class="qc-stat">
                    <div class="qc-stat-value pending">58</div>
                    <div class="sales-stat-label" data-tr="Bekleyen" data-de="Ausstehend">Bekleyen</div>
                </div>
                <div class="qc-stat">
                    <div class="qc-stat-value approved">85</div>
                    <div class="sales-stat-label" data-tr="Onaylı" data-de="Genehmigt">Onaylı</div>
                </div>
                <div class="qc-stat">
                    <div class="qc-stat-value rejected">13</div>
                    <div class="sales-stat-label" data-tr="Reddedilen" data-de="Abgelehnt">Reddedilen</div>
                </div>
            </div>

            <div class="agent-sales-title mt-4">
                <i class="ti ti-users"></i>
                <span data-tr="QC Çalışanları Performansı" data-de="QC-Mitarbeiter Leistung">QC Çalışanları Performansı</span>
            </div>

            <div class="qc-reviewer-list">
                <div class="qc-reviewer-row">
                    <div class="qc-reviewer-avatar">MK</div>
                    <div class="qc-reviewer-info">
                        <div class="qc-reviewer-name">Mehmet K.</div>
                        <div class="qc-reviewer-role" data-tr="QC Uzmanı" data-de="QC-Spezialist">QC Uzmanı</div>
                    </div>
                    <div class="qc-reviewer-stats">
                        <div class="qc-reviewer-stat">
                            <div class="qc-reviewer-stat-value">45</div>
                            <div class="qc-reviewer-stat-label" data-tr="Dinlenen" data-de="Angehört">Dinlenen</div>
                        </div>
                        <div class="qc-reviewer-stat">
                            <div class="qc-reviewer-stat-value" style="color: #4CAF50;">38</div>
                            <div class="qc-reviewer-stat-label">OK</div>
                        </div>
                        <div class="qc-reviewer-stat">
                            <div class="qc-reviewer-stat-value" style="color: #f44336;">7</div>
                            <div class="qc-reviewer-stat-label">Storno</div>
                        </div>
                        <div class="qc-reviewer-stat">
                            <div class="qc-reviewer-stat-value" style="color: #2196F3;">12</div>
                            <div class="qc-reviewer-stat-label">Termin</div>
                        </div>
                    </div>
                </div>

                <div class="qc-reviewer-row">
                    <div class="qc-reviewer-avatar">AB</div>
                    <div class="qc-reviewer-info">
                        <div class="qc-reviewer-name">Ayşe B.</div>
                        <div class="qc-reviewer-role" data-tr="QC Uzmanı" data-de="QC-Spezialist">QC Uzmanı</div>
                    </div>
                    <div class="qc-reviewer-stats">
                        <div class="qc-reviewer-stat">
                            <div class="qc-reviewer-stat-value">32</div>
                            <div class="qc-reviewer-stat-label" data-tr="Dinlenen" data-de="Angehört">Dinlenen</div>
                        </div>
                        <div class="qc-reviewer-stat">
                            <div class="qc-reviewer-stat-value" style="color: #4CAF50;">28</div>
                            <div class="qc-reviewer-stat-label">OK</div>
                        </div>
                        <div class="qc-reviewer-stat">
                            <div class="qc-reviewer-stat-value" style="color: #f44336;">4</div>
                            <div class="qc-reviewer-stat-label">Storno</div>
                        </div>
                        <div class="qc-reviewer-stat">
                            <div class="qc-reviewer-stat-value" style="color: #2196F3;">10</div>
                            <div class="qc-reviewer-stat-label">Termin</div>
                        </div>
                    </div>
                </div>

                <div class="qc-reviewer-row">
                    <div class="qc-reviewer-avatar">AV</div>
                    <div class="qc-reviewer-info">
                        <div class="qc-reviewer-name">Ali V.</div>
                        <div class="qc-reviewer-role" data-tr="QC Yöneticisi" data-de="QC-Manager">QC Yöneticisi</div>
                    </div>
                    <div class="qc-reviewer-stats">
                        <div class="qc-reviewer-stat">
                            <div class="qc-reviewer-stat-value">21</div>
                            <div class="qc-reviewer-stat-label" data-tr="Dinlenen" data-de="Angehört">Dinlenen</div>
                        </div>
                        <div class="qc-reviewer-stat">
                            <div class="qc-reviewer-stat-value" style="color: #4CAF50;">19</div>
                            <div class="qc-reviewer-stat-label">OK</div>
                        </div>
                        <div class="qc-reviewer-stat">
                            <div class="qc-reviewer-stat-value" style="color: #f44336;">2</div>
                            <div class="qc-reviewer-stat-label">Storno</div>
                        </div>
                        <div class="qc-reviewer-stat">
                            <div class="qc-reviewer-stat-value" style="color: #2196F3;">8</div>
                            <div class="qc-reviewer-stat-label">Termin</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Add CC Modal -->
<div class="modal-overlay" id="addCCModal">
    <div class="modal-content" style="max-width: 500px;">
        <div class="modal-header">
            <h3><i class="ti ti-building-plus"></i> <span data-tr="Yeni CC Ekle" data-de="Neues CC hinzufügen">Yeni CC Ekle</span></h3>
            <button class="modal-close" onclick="closeCCModal()"><i class="ti ti-x"></i></button>
        </div>
        <form id="addCCForm" onsubmit="submitNewCC(event)">
            <div class="modal-body">
                <div class="form-group">
                    <label data-tr="CC Adı" data-de="CC Name">CC Adı</label>
                    <input type="text" class="form-control" name="cc_name" required
                           placeholder="Yeni Call Center Adı"
                           data-tr-placeholder="Yeni Call Center Adı"
                           data-de-placeholder="Neuer Call Center Name">
                </div>
                <div class="form-group">
                    <label data-tr="Renk Teması" data-de="Farbschema">Renk Teması</label>
                    <select class="form-control" name="cc_color">
                        <option value="purple" data-tr="Mor" data-de="Lila">Mor</option>
                        <option value="blue" data-tr="Mavi" data-de="Blau">Mavi</option>
                        <option value="green" data-tr="Yeşil" data-de="Grün">Yeşil</option>
                        <option value="orange" data-tr="Turuncu" data-de="Orange">Turuncu</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeCCModal()">
                    <span data-tr="İptal" data-de="Abbrechen">İptal</span>
                </button>
                <button type="submit" class="btn btn-primary">
                    <i class="ti ti-plus"></i> <span data-tr="Ekle" data-de="Hinzufügen">Ekle</span>
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
function addNewCC() {
    document.getElementById('addCCModal').classList.add('show');
}

function closeCCModal() {
    document.getElementById('addCCModal').classList.remove('show');
}

function submitNewCC(e) {
    e.preventDefault();
    const form = e.target;
    const name = form.cc_name.value;
    const color = form.cc_color.value;
    
    // Create new CC panel
    const grid = document.getElementById('ccPanelsGrid');
    const addBtn = grid.querySelector('.add-cc-btn');
    
    const newPanel = document.createElement('div');
    newPanel.className = 'cc-panel';
    newPanel.innerHTML = \`
        <div class="cc-panel-header \${color}">
            <div class="cc-panel-title">
                <i class="ti ti-building"></i>
                <span>\${name}</span>
            </div>
            <span class="cc-panel-badge">Yeni</span>
        </div>
        <div class="cc-panel-body">
            <div class="sales-stats-grid">
                <div class="sales-stat">
                    <div class="sales-stat-value sale">0</div>
                    <div class="sales-stat-label">Sale</div>
                </div>
                <div class="sales-stat">
                    <div class="sales-stat-value qc-ok">0</div>
                    <div class="sales-stat-label">QC OK</div>
                </div>
                <div class="sales-stat">
                    <div class="sales-stat-value termin">0</div>
                    <div class="sales-stat-label">Termin</div>
                </div>
                <div class="sales-stat">
                    <div class="sales-stat-value storno">0</div>
                    <div class="sales-stat-label">Storno</div>
                </div>
            </div>
            <div class="agent-sales-list">
                <div class="agent-sales-title">
                    <i class="ti ti-users"></i>
                    <span>Agent Performansı</span>
                </div>
                <p class="text-muted text-center">Henüz agent atanmamış</p>
            </div>
        </div>
    \`;
    
    grid.insertBefore(newPanel, addBtn);
    closeCCModal();
    form.reset();
    
    // Show success message
    alert(document.documentElement.lang === 'de' ? 'Neues CC hinzugefügt' : 'Yeni CC eklendi');
}

// Real-time updates simulation
setInterval(() => {
    const sales = Math.floor(Math.random() * 20) + 140;
    const qcok = Math.floor(sales * 0.65);
    const termin = Math.floor(sales * 0.3);
    const storno = Math.floor(sales * 0.08);
    
    document.getElementById('totalSales').textContent = sales;
    document.getElementById('totalQCOK').textContent = qcok;
    document.getElementById('totalTermin').textContent = termin;
    document.getElementById('totalStorno').textContent = storno;
}, 10000);
</script>
{% endblock %}
